/*
 * Copyright (c) 2025 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package ohos_app_cangjie_entry


import kit.ArkUI.*
import ohos.arkui.state_macro_manage.*

@Entry
@Component
class View_Flex_Backgroundcolor {
    func build() {
        Column(space:5) {
            Text("flexBasis").fontSize(10).fontColor(0xcccccc).width(90.percent)
            Flex() {
                Text("flexBasis(100)")
                    .flexBasis(100) // 这里表示宽度为100vp
                    .height(100)
                    .backgroundColor(0xF5DEB3)
                    .textAlign(TextAlign.Center)
                    .id("text_1")
                Text("")
                    // 这里表示宽度保持原本设置的60%的宽度
                    .width(60.percent)
                    .height(100)
                    .backgroundColor(0xD2B48C)
                    .textAlign(TextAlign.Center)
                    .id("text_2")
            }.width(90.percent).height(120).padding(10).backgroundColor(0xAFEEEE).id("flexBasis")

            Text("flexGrow").fontSize(9).fontColor(0xCCCCCC).width(90.percent)
            // flexGrow()表示剩余空间分配给该元素的比例
            Flex() {
                Text("flexGrow(2)").flexGrow(2) // 父容器分配给该Text的宽度为剩余宽度的2/3
                    .height(100).backgroundColor(0xF5DEB3).textAlign(TextAlign.Center)
                Text("flexGrow(1)").flexGrow(1) // 父容器分配给该Text的宽度为剩余宽度的1/3
                    .height(100).backgroundColor(0xD2B48C).textAlign(TextAlign.Center)
            }.width(90.percent).height(120).padding(10).backgroundColor(0xAFEEEE).id("flexGrow")

            Text("flexShrink").fontSize(9).fontColor(0xCCCCCC).width(90.percent)
            // flexShrink()表示该元素的压缩比例，基于超出的总尺寸进行计算
            // 第一个text压缩比例是0,另外两个都是1,因此放不下时等比例压缩后两个,第一个不压缩
            Flex(direction: FlexDirection.Row) {
                Text("flexShrink(0)")
                    .flexShrink(0)
                    .width(50.percent)
                    .height(100)
                    .backgroundColor(0xF5DEB3)
                    .textAlign(TextAlign.Center)
                Text("default flexShrink") // 默认值为1
                    .width(40.percent)
                    .height(100)
                    .backgroundColor(0xD2B48C)
                    .textAlign(TextAlign.Center)
                Text("flexShrink(1)")
                    .flexShrink(1)
                    .width(40.percent)
                    .height(100)
                    .backgroundColor(0xF5DEB3)
                    .textAlign(TextAlign.Center)
            }.width(90.percent).height(120).padding(10).backgroundColor(0xAFEEEE).id("flexShrink")

            Text("alignSelf").fontSize(9).fontColor(0xCCCCCC).width(90.percent)
            // alignSelf会覆盖Flex布局容器中的alignItems设置
            Flex(direction: FlexDirection.Row, alignItems: ItemAlign.Center) {
                Text("no alignSelf,height:70")
                    .width(33.percent)
                    .height(70)
                    .backgroundColor(0xF5DEB3)
                    .textAlign(TextAlign.Center)
                Text("alignSelf End")
                    .alignSelf(ItemAlign.End)
                    .width(33.percent)
                    .height(70)
                    .backgroundColor(0xD2B48C)
                    .textAlign(TextAlign.Center)
                Text("no alignSelf,height:100%")
                    .width(34.percent)
                    .height(100.percent)
                    .backgroundColor(0xF5DEB3)
                    .textAlign(TextAlign.Center)
            }.width(90.percent).height(120).padding(10).backgroundColor(0xAFEEEE).id("alignSelf")
        }.width(100.percent).margin(top: 5)
    }
}
