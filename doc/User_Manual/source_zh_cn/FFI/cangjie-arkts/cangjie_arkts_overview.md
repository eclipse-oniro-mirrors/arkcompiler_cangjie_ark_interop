# 仓颉-ArkTS 互操作概述

在 OpenHarmony 系统上，为复用 ArkTS 生态，仓颉支持与 ArkTS 进行相互调用，该相互调用称为仓颉- ArkTS 互操作。仓颉- ArkTS 互操作基于仓颉 CFFI  (C Foreign Function Interface)与 ArkTS 运行时接口，为用户提供库级别的互操作能力。

仓颉- ArkTS 互操作从使用方式上分为仓颉应用中使用 ArkTS 及 ArkTS 应用中使用仓颉两种情况。从开发方式上区分，可以分为声明式互操作宏开发方式和互操作库开发方式，声明式互操作宏开发方式开发步骤简单，易于上手。互操作库开发方式相比于互操作宏方式更加灵活，能实现的功能更加广泛，推荐对互操作有一定了解的用户进行使用。ArkTS 应用中使用仓颉可以使用上述两种开发方式，而仓颉应用中使用 ArkTS 只能使用互操作库开发方式。

在介绍所有用法之前，首先介绍一下互操作库。互操作库是辅助互操作功能实现的标准库，其主要包含 ArkTS 在仓颉中对应的一些类型表示以及类型中的 API。互操作库的几个核心的类型（非全部）为：

1. JSValue: 代表统一的 ArkTS 数据类型，其作用为在跨语言调用中做传参。
2. JSContext: 代表 ArkTS 运行时上下文，其作用为辅助 JSValue 转换成仓颉数据。
3. JSCallInfo: 代表 ArkTS 函数调用的参数集合，包含所有的入参和 this 指针。
4. JSRuntime: 代表由仓颉创建的 ArkTS 运行时。
