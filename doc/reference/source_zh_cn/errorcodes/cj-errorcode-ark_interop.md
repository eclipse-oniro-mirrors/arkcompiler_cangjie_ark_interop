# 互操作错误码

> **说明：**
>
> 以下仅介绍本模块特有错误码，通用错误码请参考[通用错误码说明文档](cj-errorcode-universal.md)。

## 34300001 非法索引

**错误信息**

使用的索引超过允许的范围.

**错误描述**

当指定的索引超过允许的范围时会报此错误码。

**可能原因**

指定的索引小于0或大于上限。

**处理步骤**

1. 确认指定的索引大于等于0.
2. 确认指定的索引小于上限。

## 34300002 ArkTS代码异常

**错误信息**

执行到的ArkTS代码发生异常。

**错误描述**

ArkTS运行时异常或调用的ArkTS函数发生异常。

**可能原因**

1. ArkTS 运行时异常如：StackOverflow。
2. 传参错误或ArkTS函数实现逻辑错误。

**处理步骤**

1. 排查调用ArkTS函数的参数是否正确。
2. 排查调用的函数逻辑是否正确。

## 34300003 访问非法对象

**错误信息**

访问的对象超出生命周期。

**错误描述**

访问的对象已释放。

**可能原因**

超出作用域访问JSValue。

访问的JSPromiseCapability已完成。

在ArkTS运行时释放之后继续访问JSContext。

**处理步骤**

使用安全引用来逃逸出当前作用域访问。

## 34300004 线程校验失败

**错误信息**

在非ArkTS运行线程上进行互操作。

**错误描述**

在非ArkTS运行线程上创建或访问ArkTS对象时会报此错误码。

**可能原因**

在非ArkTS运行线程上创建或访问ArkTS对象。

**处理步骤**

在进行互操作前用接口 JSContext.isBindThread() 来判断当前线程是否是ArkTS运行线程。

## 34300005 类型校验失败

**错误信息**

ArkTS数据类型不匹配。

**错误描述**

对ArkTS数据使用错误的类型操作时会报此错误码。

**可能原因**

错误的类型转换如把一个number转为JSString。

**处理步骤**

在操作数据前判断数据类型。

## 34300008 ArrayBuffer的内存大小未对齐

**错误信息**

ArrayBuffer的内存大小未对齐。

**错误描述**

从ArrayBuffer读取数组，ArrayBuffer的字节数没有根据数组元素类型对齐时会报此错误码。

**可能原因**

从byteLength为１的ArrayBuffer读取UInt16数组。

**处理步骤**

在操作前判断ArrayBuffer的byteLength是否对齐。

## 34300009 编码转换错误

**错误信息**

编码转换错误。

**错误描述**

utf-8编码能表达的字符unicode的范围大于utf-16的范围，如果utf-8字符串里包含了utf-16编码范围之外的字符，当转换为utf-16字符串时会报此错误码。　

**可能原因**

utf-8字符串里包含了utf-16编码范围之外的字符。

**处理步骤**

查看utf-8字符串里是否包含utf-16编码范围之外的字符。

## 34300010 未知Native引用

**错误信息**

未知Native引用。

**错误描述**

通过napi接口创建的Native引用在类型上与JSExternal一致，从这种引用中获取对象时会报此错误码。

**可能原因**

访问的Native引用不是从仓颉创建的。

**处理步骤**

保证输入是仓颉创建的Native引用。

## 34300011 属性访问错误

**错误信息**

属性访问错误。

**错误描述**

当访问的属性不存在或类型不匹配时抛出此错误码。

**可能原因**

访问的属性不存在或类型不匹配。

**处理步骤**

保证属性存在且类型正确。

## 34300012 整数溢出错误

**错误信息**

整数溢出错误。

**错误描述**

数据转换过程中发生整数溢出时会报此错误码。

**可能原因**

1. 源数值超出目标类型范围。
2. 数值转换后出现精度丢失。

**处理步骤**

保证源数值在目标类型范围内。

## 34300013 字典查找的键不存在

**错误信息**

字典查找的键不存在。

**错误描述**

在字典查找时预期键存在但找不到对应的键时会报此错误码。

**可能原因**

查找的键不存在。

**处理步骤**

先判断键是否存在再访问。

## 34300014 创建运行时失败

**错误信息**

创建运行时失败。

**错误描述**

创建运行时失败时会报此错误码。

**可能原因**

1. 系统内存不足。
2. 在非主线程创建运行时。

**处理步骤**

确保在主线程创建运行时，排查系统内存不足。
